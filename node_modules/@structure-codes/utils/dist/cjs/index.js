"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=/\r?\n/,t=e=>(e.match(/\t/g)||[]).length,n={depth:0,hideFiles:!1,hideDots:!1},r=["dockerfile","vagrantfile","jenkinsfile","makefile","license","changelog","authors"].reduce(((e,t)=>(e[t]=!0,e)),{}),o=e=>{if("string"!=typeof e)throw new Error("fileName must be a string");return void 0!==r[e.toLowerCase()]};"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));exports.treeJsonToString=({tree:e,tabChar:t="  ",options:r=n})=>{let i="";const l=(e,n)=>{e.forEach(((s,c)=>{if(r.hideDots&&(s.name.startsWith(".")||o(s.name)))return;if(r.hideFiles&&0===s.children.length&&(s.name.includes(".")||o(s.name)))return;if(r.depth>0&&n.length+1>r.depth)return;const a=c===e.length-1,x=((e,t,n="  ")=>{let r="";return e.forEach((e=>r=r.concat(e?n:`│${n}`))),t?r+"└── ":r+"├── "})(n,a,t),h=x+s.name+"\n";i=i.concat(h);const u=[...n,a];l(s.children,u)}))};return l(e,[]),i=i.replace(/\n$/,""),i},exports.treeStringToJson=n=>{const r=[];let o=r;const i=[];let l="";const s=(t=>{const n=t.split(e),r=/│?(.+)(├──|└──)/,o=n.find((e=>e.match(r))),i=null==o?void 0:o.match(r);return(null==i?void 0:i[1])||null})(n);if(!s)return console.error("Unable to parse tab character"),[];return n.replace(new RegExp(s,"g"),"\t").split(e).forEach(((e,n)=>{if(!e.match(/^(\t+)?(│|├──|└──|\t)+.+/))return;const s=l.split(" ")[0],c=t(s),a=e.split(" ")[0],x=t(a),h=e.substring(a.length).trim();Array(x<=c?c-x+1:0).fill("pop").forEach((()=>i.pop()));const u={_index:n,name:h,children:[]};o=i.length>0?i[i.length-1].children:r,o.push(u),i.push(u),l=e})),r};
